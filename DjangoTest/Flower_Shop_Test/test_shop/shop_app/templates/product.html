
{% extends "_base.html" %}

{% block title %}{{ product.product_name }}{% endblock %}

{% block content %}



<div class="my-3 p-3 bg-white rounded shadow-sm">
      <div class="row ">

           <div class="col-md-3 mt-lg-5">
               <img width="100%" src="/media/{{product.product_image}}" alt="My image">
           </div>

        <div class="col-md-9 mt-lg-5">

<div class="right">
          <table class="table table-borderless" id="info">
    <tbody>

        <tr>
            <h2>
                {{ product.product_name }}
            </h2>

        </tr>
      <tr>
          <th width="15%"   >Type</th>
            <td style="color: #5a6268;    ' ">
                {{ product.type }}
            </td>

        </tr>

     <tr>
          <th width="15%"   >Color</th>
            <td style="color: #5a6268;    '">
                {{ product.color }}
            </td>

        </tr>

     <tr>
          <th width="15%"   >Description</th>
            <td style="color: #5a6268;    '"> {{ product.product_desc }}
            </td>
        </tr>


        <tr>
          <th width="15%"   >Inventory</th>
            <td style="color: #5a6268;    '" id="p_inventory"> {{ product.inventory }}
            </td>
        </tr>


        <tr>
            <th width="15%"   >Quantity</th>
            <td style="color: #5a6268;    '">
                <input type="number" min="1" max="100" id="p_num" value="1"/>
            </td>
        </tr>


        <tr>

            <td style="color: #5a6268;    '">

            </td>
        </tr>



    </tbody>



</table>
<img src="https://img.icons8.com/color/50/000000/like--v1.png" data-toggle="modal" data-target="#modal-warning" onclick="addToFavorite('{{ product.product_id }}', this)"/>
<button  class="btn btn-sm btn-outline-dark" data-toggle="modal" data-target="#modal-warning" onclick="addToCart('{{ product.product_id }}', this)">Add To Cart</button>

        </div>


        </div>
            </div>

        </div>
     <div id="modal-warning" class="modal modal-message modal-warning fade" style="display: none;" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <i class="fa fa-warning"></i>
                </div>
                <div class="modal-title"></div>

                <div class="modal-body" id="modal-centent"></div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-success btn-sm" data-dismiss="modal">OK</button>
                </div>
            </div> <!-- / .modal-content -->
        </div> <!-- / .modal-dialog -->
    </div>
<style type="text/css">
    	.modal-content {
    -webkit-border-radius: 0;
    -webkit-background-clip: padding-box;
    -moz-border-radius: 0;
    -moz-background-clip: padding;
    border-radius: 6px;
    background-clip: padding-box;
    -webkit-box-shadow: 0 0 40px rgba(0,0,0,.5);
    -moz-box-shadow: 0 0 40px rgba(0,0,0,.5);
    box-shadow: 0 0 40px rgba(0,0,0,.5);
    color: #000;
    background-color: #fff;
    border: rgba(0,0,0,0);
}
.modal-message .modal-dialog {
    width: 300px;
}
.modal-message .modal-body, .modal-message .modal-footer, .modal-message .modal-header, .modal-message .modal-title {
    background: 0 0;
    border: none;
    margin: 0;
    padding: 0 20px;
    text-align: center!important;
}

.modal-message .modal-title {
    font-size: 17px;
    color: #737373;
    margin-bottom: 3px;
}

.modal-message .modal-body {
    color: #737373;
}

.modal-message .modal-header {
    color: #fff;
    margin-bottom: 10px;
    padding: 15px 0 8px;
}
.modal-message .modal-header .fa,
.modal-message .modal-header
.glyphicon, .modal-message
.modal-header .typcn, .modal-message .modal-header .wi {
    font-size: 30px;
}

.modal-message .modal-footer {
    margin: 25px 0 20px;
    padding-bottom: 10px;
}

.modal-backdrop.in {
    zoom: 1;
    filter: alpha(opacity=75);
    -webkit-opacity: .75;
    -moz-opacity: .75;
    opacity: .75;
}
.modal-backdrop {
    background-color: #fff;
}



    </style>

<script>

    function addToCart(id, obj) {
    let num = Number($("#p_num").val())
        {#console.log("Id="+id);#}
        {#console.log("num="+num);#}
    // let inventory_num = Number($("#p_inventory").text());
    //     console.log("invent_num="+inventory_num);
    $.ajax({
        type : 'post',
        url : '../add_to_cart/',
        data:{'p_id':id, 'p_num':num},
        async : false,
        success : function(data){
            // if (inventory_num >= num){
            //     $("#p_inventory").text(inventory_num-num);
            // }
            $("#modal-centent").html(data["msg"]);

        }
    });
}

function addToFavorite(id, obj) {
    $.ajax({
        type : 'post',
        url : '../add_to_favorite/',
        data:{'p_id':id},
        async : false,
        success : function(data){
             $("#modal-centent").html(data["msg"]);
        }
    });
}
</script>


{% endblock %}

